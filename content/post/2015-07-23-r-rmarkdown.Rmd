---
title: "Toronto Neighbourhood Auto Theft situation from 2014 to 2019"
author: "Liuxuan Wang"
date: 2020-09-27T21:13:14-05:00
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
abstract: In this paper we are going to explore the number of Auto Theft cases for each Toronto Neighbourhood from 2014 to 2019. To see if there is any neighbourhood which is unusual. Has the number of Auto Theft cases been varied a lot among years?
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```

## Input data
```{r, echo = FALSE}
library(opendatatoronto)
library(dplyr)
library(tidyverse)

# get package
package <- show_package("fc4d95a6-591f-411f-af17-327e6c5d03c7")
package

# get all resources for this package
resources <- list_package_resources("fc4d95a6-591f-411f-af17-327e6c5d03c7")

# identify datastore resources; by default, Toronto Open Data sets datastore resource format to CSV for non-geospatial and GeoJSON for geospatial resources
datastore_resources <- filter(resources, tolower(format) %in% c('csv', 'geojson'))

# load the first datastore resource as a sample
data <- filter(datastore_resources, row_number()==1) %>% get_resource()
data

```
## Intoduction
In a modern city like Toronto, Auto theft always exist. As the number of auto mobile vechicles increase, people's methods of preventing the theft are also more ane more advanced. In this paper, we will auto theft problem between 2014 to 2019 using the data about the number of Auto theft in each neighbourhood during this time period. The main finds include that most of the neighbourhoods in Toronto had no more than 50 Auto Theft cases during 2014 to 2019. There were always 5 to 6 neighbourhoods with serious auto theft issues with around 100 cases, or even more than 300. West Humber-Clairville was a neighbourhood whose problem was extremely serious, and even worse in 2019.

In this paper, I choose the data from open data Toronto. The original data set is about the Neighbourhood crime rate of different categories of crime between 2014 and 2019. I draw histograms for each year's Auto theft counts to see the distribution and boxplots to see the centre, spread and outliers. Both the histograms and the boxplots are very similar between years. Also, there isn't much distinction on the median and spread, as well. Therefore, the number of auto theft in each Toronto neighbourhoods hasn't changed much between years. For the neighbourhood which has an extremely high number of auto theft , I have searched for the online resource that it is a place with large number of theft. And the data shows that it still suffers from the problem.

The paper first includes original data along with a description. The following are graphs including 6 histograms and 6 boxplots. The discussion and reference are under the graphs. Since the data shows that the number of auto theft in Toronto neighbourhoods hasn't changed much, it may indicate that there is some actions needed in the future to mitigate the issue. This analyze also has limitation and weakness. Since the data ends by 2019, it is not accurate to say that the situation now is still align with the situation reflected from the data. If we want it to be more accurate, we still need to collect the data in the future and do the same analyze to compare.





## Description of dataset
### Background:
This dataset is about the neighbourhood crime data from 2014 to 2019. It includes the number of auto theft, assault, robbery, homicide, theft over and break and enter for each year. Also, based on the 2016 Census population, it includes five year averages and neighbourhood crime rates per 100,000 people.

### Description of variables:
_id: unique row identifier(int)
OBJECTID: Autogenerated distinct record identifier(int)
Neighbourhood: name of Toronto neighbourhood (chr)
Hood_ID: Toronto neighbourhood identifier (chr)
Population: 2016 Census population (int)
Assault_2014~Assault_2019: Count of assaults for 2014-2019(int)
Assault_AVG: Average Assaults from 2014 - 2019 (dbl)
Assault_CHG: Percantage change in assaults from 2018-2019(dbl)
Assault_Rate_2019: Rate of assaults for 2019 per 100,000 population (dbl)
AutoTheft_2014~AutoTheft_2019: Count of auto thefts for 2014 to 2019(int)
AutoTheft_AVG:Average auto thefts from 2014-2019 (dbl)
AutoTheft_CHG: Percentage Change in auto thefts from 2018-2019(dbl)
AutoTheft_Rate_2019: Rate of auto thefts for 2019 per 100,000 population(dbl)
BreakandEnter_2014~BreakandEnter_2019: Count of break and enters for 2014 to 2019 (int)
BreakandEnter_AVG: Average break and enters from 2014-2019 (dbl) BreakandEnter_CHG: percentage Change in break and enters from 2018-2019 (dbl)
BreakandEnter_Rate_2019: Rate of break and enters for 2019 per 100,000 population (dbl)
Homicide_2014~Homicide_2019: Count of homicides for 2014 to 2019 (int)
Robbery_AVG: Average robberies from 2014-2019 (dbl)
Robbery_CHG: percentage Change in robberies from 2018-2019 (dbl)
Robbery_Rate_2019: Rate of robberies for 2019 per 100,000 population (dbl)
TheftOver_2014~TheftOver_2019: Count of thefts over for 2014 to 2019 (int)
TheftOver_AVG: Average thefts over from 2014-2019 (dbl)
TheftOver_CHG: Percentage Change in thefts over from 2018-2019(dbl)
TheftOver_Rate_2019: Rate of thefts over for 2019 per 100,000 population (dbl)
Shape__Area: Autogenerated area measurement (dbl)
Shape__Length: Autogenerated length measurement (dbl)

# Category of data
```{r, echo = FALSE}
glimpse(data)
```
## Find something interesting with graphs
```{r, echo = FALSE}
# Histograms:
ggplot(data, aes(AutoTheft_2014, fill=AutoTheft_2014))+ geom_histogram(stat = "count", color = "pink", bins = 10)+labs(x = "Number of Auto Theft in 2014", y = "Frequency", title = "Histogram of number of Auto Theft in 2014", caption = "Source: Toronto Police Services")

ggplot(data, aes(AutoTheft_2015, fill=AutoTheft_2015))+ geom_histogram(stat = "count", color = "red", bins = 10)+labs(x = "Number of Auto Theft in 2015", y = "Frequency", title = "Histogram of number of Auto Theft in 2015", caption = "Source: Toronto Police Services")

ggplot(data, aes(AutoTheft_2016, fill=AutoTheft_2016))+ geom_histogram(stat = "count", color = "yellow", bins = 10)+labs(x = "Number of Auto Theft in 2016", y = "Frequency", title = "Histogram of number of Auto Theft in 2016", caption = "Source: Toronto Police Services")

ggplot(data, aes(AutoTheft_2017, fill=AutoTheft_2017))+ geom_histogram(stat = "count",color = "grey", bins = 10)+labs(x = "Number of Auto Theft in 2017", y = "Frequency", title = "Histogram of number of Auto Theft in 2017", caption = "Source: Toronto Police Services")

ggplot(data, aes(AutoTheft_2018, fill=AutoTheft_2018))+ geom_histogram(stat = "count", color = "blue", bins = 10)+labs(x = "Number of Auto Theft in 2018", y = "Frequency", title = "Histogram of number of Auto Theft in 2018", caption = "Source: Toronto Police Services")

ggplot(data, aes(AutoTheft_2019, fill=AutoTheft_2019))+ geom_histogram(stat = "count", color = "purple", bins = 10)+labs(x = "Number of Auto Theft in 2019", y = "Frequency", title = "Histogram of number of Auto Theft in 2019", caption = "Source: Toronto Police Services")
```

```{r, echo = FALSE}
# Boxplots:
ggplot(data, aes(x='', y = AutoTheft_2014))+geom_boxplot(color = "pink")+labs(x = "", y = "Number of Auto theft", title = "Boxplots of number of Auto Theft in 2014", caption = "Source: Toronto Police Services")

ggplot(data, aes(x='', y = AutoTheft_2015))+geom_boxplot(color = "red")+labs(x = "", y = "Number of Auto theft", title = "Boxplots of number of Auto Theft in 2015", caption = "Source: Toronto Police Services")

ggplot(data, aes(x='', y = AutoTheft_2016))+geom_boxplot(color = "yellow")+labs(x = "", y = "Number of Auto theft", title = "Boxplots of number of Auto Theft in 2016", caption = "Source: Toronto Police Services")

ggplot(data, aes(x='', y = AutoTheft_2017))+geom_boxplot(color = "grey")+labs(x = "", y = "Number of Auto theft", title = "Boxplots of number of Auto Theft in 2017", caption = "Source: Toronto Police Services")

ggplot(data, aes(x='', y = AutoTheft_2018))+geom_boxplot(color = "blue")+labs(x = "", y = "Number of Auto theft", title = "Boxplots of number of Auto Theft in 2018", caption = "Source: Toronto Police Services")

ggplot(data, aes(x='', y = AutoTheft_2019))+geom_boxplot(color = "purple")+labs(x = "", y = "Number of Auto theft", title = "Boxplots of number of Auto Theft in 2019", caption = "Source: Toronto Police Services")



```
## Discussion of graphs and findings

In this assignment, I mainly focus on exploring the situation of AutoTheft in Toronto Neighbourhood from 2014 to 2019.

Firstly, I draw a histogram of the number of Auto Theft for each year. The distributions of the number of Auto Theft for each year from 2014 to 2019 are very similar. It shows a skewness to the right. The maximum frequency often falls around 10 to 15. For year of 2015 and 2016, the shape of distribution come to be bimodal, the maximum frequency also falls around 20 to 25 except for the one we have mentioned. From the right side of each histograms, we can also see some data that could be outliers, which show extremely high quantity of auto thefts. In 2017, the number of neighbourhoods with more than 100 Auto Theft cases is 1, which is the least. In 2019, there are 5 neighbourhoods with more than 100 auto thefts, which is the most. For each year, there is a neighbourhood called West Humber-Clairville having around 300 AutoTheft cases, even close to 500 in 2019. 

Secondly, we put each year's Toronto neighbourhood auto theft data into boxplots to see the centre, spread and outliers. The shapes of boxplots for each year are not so much different. All of their median are around 20 per year. 75% of data are below 50 per year, which is very concentrated. Also, for each year the IQR is about 30, not very large. Each year, there will be 5 to 6 upper outliers while there isn't any outliers below. 

Overall, except for the fluctuation of outliers, the centre, spread and the number of outliers of Auto Theft in Toronto Neighbourhoods has been relativley steady from 2014 to 2019. The Auto Theft problem is not very serious for most neighbourhoods. While for neighbourhoods with serious Auto Theft problem, the situation has not been mitigated, yet.


## Reference
https://open.toronto.ca/dataset/neighbourhood-crime-rates/
https://humbernews.ca/2012/10/humber-north-area-ranks-2nd-in-theft-rate/